<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Спасибо за ваш ответ!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
     <style>
         body { background-color: #f9fafb; /* bg-gray-50 */ }
    </style>
</head>
<body class="min-h-screen font-sans">
    <!-- Страница благодарности -->
    <div id="thank-you-container" class="max-w-2xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
        <div class="text-center">
            <div class="mx-auto h-24 w-24 bg-green-100 rounded-full flex items-center justify-center mb-6">
                <i class="fas fa-check-circle text-green-600 text-4xl"></i>
            </div>
            <h1 class="text-3xl font-bold text-gray-900 mb-4">Спасибо за ваш ответ!</h1>
            <p class="text-lg text-gray-600 mb-8">Ваше мнение поможет нам лучше понять привычки пользователей смартфонов.</p>

            <div class="bg-white shadow rounded-lg overflow-hidden p-6 max-w-md mx-auto">
                <h3 class="text-lg font-medium text-gray-900 mb-4">Ваш ответ:</h3>
                <p id="user-answer" class="text-xl font-semibold text-indigo-600">Загрузка...</p>
            </div>

            <div class="mt-8 space-x-4">
                 <!-- Direct links -->
                <a href="poll.html" class="text-indigo-600 hover:text-indigo-800 font-medium">Вернуться к опросу</a>
                <a href="results.html" class="text-indigo-600 hover:text-indigo-800 font-medium">Посмотреть результаты</a>
            </div>
        </div>
    </div>

     <!-- Include common logic first -->
    <script src="poll_logic.js"></script>
     <!-- Page-specific script -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            console.log("Thank you page loaded.");
            const userAnswerElement = document.getElementById('user-answer');
            const userAnswer = localStorage.getItem(userAnswerKey);

            if (userAnswer) {
                console.log("User answer found in localStorage:", userAnswer);
                // Use the helper function from poll_logic.js
                const answerText = getAnswerText(userAnswer);
                userAnswerElement.textContent = answerText;
                console.log("Displayed answer text:", answerText);
            } else {
                console.warn("User answer key not found in localStorage.");
                userAnswerElement.textContent = "Ваш ответ был записан."; // Fallback message
                 // Optional: Redirect back to poll if state seems inconsistent?
                 // window.location.replace('poll.html');
            }
        });
    </script>
</body>
</html>